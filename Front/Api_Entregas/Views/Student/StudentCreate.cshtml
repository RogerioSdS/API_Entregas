@model Api_Entregas.ViewModels.StudentViewModel

@{
    ViewData["Title"] = "Criar aluno";
}

@section Styles {
    <link rel="stylesheet" href="~/css/register.css" asp-append-version="true" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta3/dist/css/bootstrap-select.min.css"
          rel="stylesheet" />
}

<div class="formbold-main-wrapper">
  <div class="formbold-form-wrapper">
    <form asp-controller="Student"
          asp-action="createStudent"
          method="post">
      @Html.AntiForgeryToken()
      @Html.HiddenFor(m => m.Id)

      <div class="formbold-form-title">
        <h2>Criar Aluno</h2>
        <p>Preencha os dados abaixo.</p>
      </div>

      <div class="mb-3">
        @Html.LabelFor(m => m.FirstName, "Nome")
        @Html.TextBoxFor(m => m.FirstName,
          new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.FirstName,
          "", new { @class = "text-danger" })
      </div>

      <div class="mb-3">
        @Html.LabelFor(m => m.LastName, "Sobrenome")
        @Html.TextBoxFor(m => m.LastName,
          new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.LastName,
          "", new { @class = "text-danger" })
      </div>

      <div class="mb-3">
        @Html.LabelFor(m => m.Email, "Email")
        @Html.TextBoxFor(m => m.Email,
          new { @class = "form-control", type = "email" })
        @Html.ValidationMessageFor(m => m.Email,
          "", new { @class = "text-danger" })
      </div>

      <div class="mb-3">
        @Html.LabelFor(m => m.DateOfBirth, "Data de Nascimento")
        @Html.TextBoxFor(m => m.DateOfBirth,
          new { @class = "form-control", type = "date" })
        @Html.ValidationMessageFor(m => m.DateOfBirth,
          "", new { @class = "text-danger" })
      </div>

      <div class="mb-3">
        @Html.LabelFor(m => m.PhoneNumber, "Telefone")
        @Html.TextBoxFor(m => m.PhoneNumber,
          new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.PhoneNumber,
          "", new { @class = "text-danger" })
      </div>

      <div class="mb-3">
        @Html.LabelFor(m => m.ResponsibleId, "Respons√°veis")
        <select asp-for="ResponsibleId"
                asp-items="ViewBag.Users"
                multiple
                class="form-control selectpicker"
                data-live-search="true"
                title="-- selecione --">
        </select>
        @Html.ValidationMessageFor(m => m.ResponsibleId,
          "", new { @class = "text-danger" })
      </div>

      <button type="submit" class="btn btn-primary">
        Salvar aluno
      </button>

      @if (TempData["SuccessMessage"] != null)
      {
        <div class="alert alert-success mt-3">
          @TempData["SuccessMessage"]
        </div>
      }
    </form>
  </div>
</div>

@section Scripts {
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta3/dist/js/bootstrap-select.min.js"></script>
  <script>
    $(function () {
      $('.selectpicker').selectpicker();
    });
  </script>
}
